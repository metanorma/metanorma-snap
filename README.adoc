image:https://github.com/metanorma/metanorma-snap/workflows/main/badge.svg["Build Status", link="https://github.com/metanorma/metanorma-snap/actions?query=workflow%3Amain"]

= metanorma-snap: Metanorma Snap Package

== Installation

The released Metanorma snap package is located at Snapcraft: https://snapcraft.io/metanorma[Metanorma snap].

== Building the package

On Linux:

[source,sh]
----
# Enter the root directory of this repo
snapcraft snap
----

Via Docker:

[source,sh]
----
docker run -v $(pwd):/build -w /build -it snapcore/snapcraft:stable snapcraft snap
----

== Testing the package

If you are on macOS you can install snap to any of your multipass instances with:

[source,sh]
----
multipass transfer metanorma_*_amd64.snap ${instance-name}:/home/multipass
multipass shell ${instance-name}
sudo snap install --devmode metanorma_*_amd64.snap
----

After this the snap is ready to use.

=== Testing uninstallation

Execute the following command to uninstall LaTeXML.

[source,sh]
----
sudo snap remove metanorma
----

After executing the uninstall ensure that the `metanorma` executable is no longer found.

You can also try running `metanorma help` from the command-line to see if it is still installed.

== Generating the snapcraft token

You will be prompted to enter your email and password.

[source,sh]
----
$ docker run -it snapcore/snapcraft:stable snapcraft export-login -
Enter your Ubuntu One e-mail address and password.
If you do not have an Ubuntu One account, you can create one at https://snapcraft.io/account
Email:
----
